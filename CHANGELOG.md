# 日記メモ

2023-02-06: リポジトリを作った。
* README.mdにメモ書き開始

2023-02-07: MPLABを追加した。
* 電脳伝説版EMU68l8リポジトリをベースンいビルトを確認、から開始。

2023-02-10: romイメージを別ファイルに切り出し空にした。

2023-02-10: m68k-elf-gccをビルド、インストールした。
* アセンブリ言語でサンプルプログラムを書いた(pol.s)。
* Easy68kでアセンブルしてみた。

2023-02-12: PICファームウェア一応完成
* アップロードコマンド形式を作った。
* Motorollaニーモニック→Sunアセンブラ形式→m68k-elf-asビルド→アップロード
が動くようになった。
* 6MHzではとびとびになるので2MHzにした。とばなくなった、がこの辺り。

2023-02-12: WordPressに記事を上げた。

2023-02-14: putchの動作を確認した、シングルステップで。

2023-02-16: アップロードの時間マージン
* エコーバックなしにしてどの程度マージンが取れたかをブログに記載した。86us中4～5us程度を占めるだけ。

2023-02-16: 6MHzのとき動作を見た。
* ステップとびとびの波形を取り、DTACKの戻しが間に合っていないことを確認した。
* 結局2MHzに戻した。

2023-02-16: A19 == Hのときは無条件にDTACK==Hにする。
* ソフトでアドレスチェックしてA19==HのときはI/Oのみ、の縛りを止めてRAMエミュレーションも行う、が分かりやすいと気付く。
* あ、現在の実装は「全アドレス空間でシングルステップ」ですからね。

2023-02-16: CLC前提でDTACK発生回路を検討した。
* 戻しが高速化するのでクロック最高速まで上げても動くはず。
* 回路は決まったがCLCに落とせるかどうかはこれからの検討となる。
* 68008最速で動かすなら必要だが、今回のプロジェクトはそちらが本筋ではないため後回しとする。
